<!DOCTYPE html>
<html lang="en">

<head>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2262501229777689"
    crossorigin="anonymous"></script>
  <meta charset="UTF-8">
  <title>Document</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="../css/style.css">
</head>

<body>
  <div class="container-fluid align-items-center">
    <h3 class="text-center title_card ">Game MatchingCardScreen</h3>
    <h3>
      Step 1 : Create flutter project
    </h3>
    <pre class="block-small"><code>
flutter create MatchingCard
            </code></pre>
    <h3>
      Step 1 :add getx package
    </h3>
    <pre class="block-small"><code>
flutter pub add get
                </code></pre>
    <h3>
      Step 2 : In the main.dart
    </h3>
    <pre class="block-small ">
            <code>
import 'dart:math';
import 'package:flutter/material.dart';
void main() {
runApp(
const MaterialApp(
home: const MatchingCardScreen()
),
);
}
</code></pre>
    <h3>Step 3 : Create Controller</h3>
    <pre><code class="language-dart hljs " data-highlighted="yes"><div class="block-code">
<div class="d-flex justify-content-end"><button value="" id="idController" onclick="copyController()" class="btn btn-outline-primary btn-sm ">Copy</button> </div>
<div id="controller"></div>
            </div></code></pre>
    <h3>Step 4 : Create MatchingCardScreen</h3>
    <pre><code class="language-dart hljs " data-highlighted="yes"><div class="block-code">
    <div class="d-flex justify-content-end"><button value="" id="idScreen" onclick="copyMatchingScreen()" class="btn btn-outline-primary btn-sm ">Copy</button> </div>
    <div id="gamescreen"></div>
                </div></code></pre>


    <h1>Result</h1>
    <a href="../image/result_animation_container.mp4"></a>
    <h1>Relate</h1>
    <div class="d-flex flex-wrap mb-5" id="demo">
    </div>
  </div>
</body>
<script>
  var controller = `import 'dart:math';
import 'package:flutter/material.dart';
import 'package:get/get.dart';

class EyeController extends GetxController {
  // id
  int card = 5;
  bool disble = false;
  final value = [];
  final value01 = [];
  final value02 = [];
  final address01 = [];
  final address02 = [];
  bool add = false;
  void reset() {
    value.clear();
    value01.clear();
    value02.clear();
    address01.clear();
    address02.clear();
    randem();
    isDone.clear();
    flip.clear();
    listOpen.clear();
    isFlip();
  }

  List randem() {
    // VALUE 01 remdom (1 to card.length)
    for (int i = 0; i < card; ++i) {
      int i = Random().nextInt(card);
      value01.add(i);
    }
    for (int i = 0; i < card; ++i) {
      for (int j = i + 1; j < card; ++j) {
        if (value01[i] == value01[j]) {
          address01.add(i);
          value01[i] = 404;
          break;
        }
      }
    }
    for (int i = 0; i < card; ++i) {
      if (value01[i] == 404) {
        for (int j = 0; j < card; ++j) {
          for (int jj = 0; jj < card; ++jj) {
            if (j != value01[jj]) {
              add = true;
            } else {
              add = false;
              break;
            }
          }
          if (add == true) {
            value01[i] = j;
          }
          add = false;
        }
      }
    }
    //  VALUE 02 remdom (1 to card.length)
    for (int i = 0; i < card; ++i) {
      int i = Random().nextInt(card);
      value02.add(i);
    }
    for (int i = 0; i < card; ++i) {
      for (int j = i + 1; j < card; ++j) {
        if (value02[i] == value02[j]) {
          address02.add(i);
          value02[i] = 404;
          break;
        }
      }
    }
    for (int i = 0; i < card; ++i) {
      if (value02[i] == 404) {
        for (int j = 0; j < card; ++j) {
          for (int jj = 0; jj < card; ++jj) {
            if (j != value02[jj]) {
              add = true;
            } else {
              add = false;
              break;
            }
          }
          if (add == true) {
            value02[i] = j;
          }
          add = false;
        }
      }
    }
    // Combine (value1 & value 2)
    for (int i = 0; i < card; ++i) {
      value.add(value01[i]);
      value.add(value02[i]);
    }

    debugPrint("list value  :$value");
    return value;
  }

  final flip = [];
  final pi = 3.14;
  final isDone = [];
  List isFlip() {
    for (int i = 0; i < 2 * card; ++i) {
      flip.add(3.14);
      isDone.add(false);
    }
    return flip;
  }

  bool isfirst = true;
  final listOpen = [];
}
`;
  var code = `import 'package:flutter/material.dart';
import 'package:get/get.dart';
import 'game_controller.dart';

class EyeScreen extends StatefulWidget {
  const EyeScreen({Key? key}) : super(key: key);

  @override
  State<EyeScreen> createState() => _EyeScreenState();
}

final contorller = Get.put(EyeController());

class _EyeScreenState extends State<EyeScreen> {
  @override
  void initState() {
    super.initState();
    contorller.randem();
    contorller.isFlip();
  }

  bool isback = true;
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: const Text("Card Game "),
        backgroundColor: Colors.amber,
      ),
      body: Center(
        child: GetBuilder<EyeController>(
          init: EyeController(),
          builder: (eyeController) {
            return SingleChildScrollView(
              child: Column(
                children: [
                  Container(
                    margin: const EdgeInsets.only(top: 20),
                    child: Column(
                      children: [
                        Center(
                          child: Wrap(
                            children:
                                eyeController.value.asMap().entries.map((e) {
                              return GestureDetector(
                                onTap: () {
                                  if (eyeController.disble == false) {
                                    // check is card not yet open
                                    eyeController.isfirst = false;
                                    eyeController.update();
                                    if (eyeController.flip[e.key] == 3.14) {
                                      eyeController.flip[e.key] =
                                          (eyeController.flip[e.key] +
                                                  eyeController.pi) %
                                              (2 * eyeController.pi);
                                      eyeController.listOpen.add(e.key);
                                      eyeController.update();
                                      if (eyeController.listOpen.length == 2) {
                                        if (eyeController.value[e.key] ==
                                            eyeController.value[
                                                eyeController.listOpen[0]]) {
                                          eyeController.isDone[
                                              eyeController.listOpen[0]] = true;
                                          eyeController.isDone[e.key] = true;
                                          eyeController.listOpen.clear();
                                          eyeController.update();
                                        } else {
                                          eyeController.disble = true;
                                          eyeController.update();
                                          Future.delayed(
                                              const Duration(milliseconds: 500),
                                              () {
                                            eyeController.flip[eyeController
                                                    .listOpen[0]] =
                                                (eyeController.flip[
                                                            eyeController
                                                                .listOpen[0]] +
                                                        eyeController.pi) %
                                                    (2 * eyeController.pi);
                                            eyeController.listOpen.removeAt(0);
                                            eyeController.disble = false;
                                            eyeController.update();
                                          });
                                        }
                                      }
                                    } else {
                                      eyeController.flip[e.key] =
                                          eyeController.flip[e.key];
                                      eyeController.update();
                                    }
                                  }
                                },
                                child: TweenAnimationBuilder(
                                  tween: Tween<double>(
                                      begin: 0, end: eyeController.flip[e.key]),
                                  duration: Duration(
                                      milliseconds:
                                          eyeController.isfirst == true
                                              ? 0
                                              : 500),
                                  builder:
                                      (BuildContext context, double val, _) {
                                    if (val >= (eyeController.pi / 2)) {
                                      isback = false;
                                    } else {
                                      isback = true;
                                    }
                                    return (Transform(
                                      alignment: Alignment.center,
                                      transform: Matrix4.identity()
                                        ..rotateY(val),
                                      child: isback == true
                                          ? eyeController.isDone[e.key] == false
                                              ? Container(
                                                  decoration: BoxDecoration(
                                                      color: const Color(
                                                          0xff94d2bd),
                                                      borderRadius:
                                                          BorderRadius.circular(
                                                              8)),
                                                  margin:
                                                      const EdgeInsets.all(2),
                                                  height: 90,
                                                  width: 70,
                                                  child: Center(
                                                    child: Text(
                                                      e.value.toString(),
                                                      style: const TextStyle(
                                                          color: Colors.white,
                                                          fontSize: 18),
                                                    ),
                                                  ),
                                                )
                                              : Container(
                                                  margin:
                                                      const EdgeInsets.all(2),
                                                  height: 90,
                                                  width: 70,
                                                  decoration: BoxDecoration(
                                                    color:
                                                        const Color(0xfff4a261),
                                                    borderRadius:
                                                        BorderRadius.circular(
                                                            8),
                                                  ),
                                                  child: const Center(
                                                      child: Icon(
                                                    Icons.done,
                                                    size: 40,
                                                    color: Colors.white,
                                                  )),
                                                )
                                          : Container(
                                              margin: const EdgeInsets.all(2),
                                              height: 90,
                                              width: 70,
                                              decoration: BoxDecoration(
                                                  color:
                                                      const Color(0xff264653),
                                                  borderRadius:
                                                      BorderRadius.circular(8)),
                                              child: const Center(
                                                  child: Text(
                                                "X",
                                                style: TextStyle(
                                                    color: Colors.white,
                                                    fontSize: 18),
                                              )),
                                            ),
                                    ));
                                  },
                                ),
                              );
                            }).toList(),
                          ),
                        ),
                        const SizedBox(
                          height: 20,
                        ),
                        ElevatedButton(
                            onPressed: () {
                              setState(() {
                                isback = false;
                              });
                              contorller.reset();
                            },
                            child: const Text("Reset"))
                      ],
                    ),
                  ),
                ],
              ),
            );
          },
        ),
      ),
    );
  }
}
`;
  const relate = {
    "data": [
      {
        "title": "Paper Rock Scissors with AI and nice animation",
        "image": "../image/game/rock-paper-scissors.png",
        "route": "../game/paper_rock_scissors.html",
      },
      {
        "title": "Tic Tac Toe 3x3 2Player",
        "image": "../image/game/tic_tac_toe.png",
        "route": "../game/tic_tac_toe.html",
      },
      {
        "title": "Snakc game eat apple become big",
        "image": "../image/game/snake.png",
        "route": "../game/snake.html",
      }
    ]
  };
  let text = "";
  relate.data.forEach(function (value, key) {
    text += `<div class="card_relat" style="width: 18rem;">
            <a href="${value.route}">
                <img src="${value.image}" style=" object-fit: cover;" class="card-img-top"> </a>
                <div class="card_body">
                    <p class="">
                        ${value.title}
                    </p>
                </div>
            </div>`
  })
  document.getElementById("demo").innerHTML = text;
  document.getElementById('controller').innerHTML = controller;
  document.getElementById('gamescreen').innerHTML = code;
  function copyController() {
    navigator.clipboard.writeText(controller);
    document.getElementById("idController").innerText = "copyed";
    document.getElementById('idScreen').innerHTML = "copy"
  }
  function copyMatchingScreen() {
    navigator.clipboard.writeText(code);
    document.getElementById("idController").innerText = "copy";
    document.getElementById('idScreen').innerHTML = "copyed"
  }
</script>

</html>